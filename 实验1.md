# 基于 VirtualBox 的网络攻防基础环境搭建

## 实验目的

- 掌握 VirtualBox 虚拟机的安装与使用；
- 掌握 VirtualBox 的虚拟网络类型和按需配置；
- 掌握 VirtualBox 的虚拟硬盘多重加载；

## 实验要求

-  虚拟硬盘配置成多重加载；
-  搭建满足如下拓扑图所示的虚拟机网络拓扑；

 ![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\vb-exp-layout.png)

> 根据实验宿主机的性能条件，可以适度精简靶机数量

完成以下网络连通性测试；

-  靶机可以直接访问攻击者主机
-  攻击者主机无法直接访问靶机
-  网关可以直接访问攻击者主机和靶机
-  靶机的所有对外上下行流量必须经过网关
-  所有节点均可以访问互联网

## 实验环境

1. **网络拓扑**

   ![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\shiyanyaoqiu.png)

2. **虚拟机配置**

- 四台靶机：
  - intnet1
    - kali-victim
    - victim-xp-1
  - intnet2
    - victim-ub
    - victim-xp-2
- 一台网关
  - Gateway-debian
- 一台攻击机
  - Attack-kali

## 实验过程

1.配置虚拟机及网关

配置虚拟机并设置为多重加载

![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\26673049e7ee9f4e7f720d9c9c7be1f.png)

| 主机名          |                  网络                  |
| :-------------- | :------------------------------------: |
| xp_sp3          |       网卡1：internet pro/1000 T       |
| beingat-xp-sp3  |       网卡1：internet pro/1000 T       |
| kali-linux-2021 |      网卡1：internet pro/1000 MT       |
| debian          |      网卡1：internet pro/1000 MT       |
| beingat-kali    |      网卡1：internet pro/1000 MT       |
| ub              | 网卡2：internet pro/1000 MT(host-only) |

靶机直接访问攻击者主机

![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\1631586578(1).png)

![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\微信图片_20210915173613.png)

![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\微信图片_20210915173613.png)

靶机的所有对外上下行流量必须经过网关

![](C:\Users\计算机\Desktop\没童年 在阴间 我的大学\大三上\2021-ns-public-oraoraoraora2019302120133\微信图片_20210915174049.png)

## 课后思考

1. 以下⾏为分别破坏了CIA和AAA中哪⼀个属性或多个属性？

- 小明抄小强的作业:CIA：机密性 AAA：认证、授权
- 小明把小强的系统折腾死机了:CIA：可用性 AAA：授权
- 小明修改了小强的淘宝订单:CIA：完整性、机密性 AAA：认证、授权
- 小明冒充小强的信用卡账单签名:CIA：完整性 AAA：认证、授权
- 小明把自⼰电脑的IP修改为小强电脑的IP，导致小强的电脑⽆法上⽹:CIA：可用性 AAA：认证、授权

1. 有⼀次，小明⼝袋里有100元，因为打瞌睡，被小偷偷⾛了，搞得晚上没饭吃。又⼀天，小明⼝袋里有200元，这次小明为了防范小偷，不打瞌睡了，但却被强盗持⼑威胁抢⾛了，搞得⼀天没饭吃，小明当天就报警了。

- 试分析两次失窃事件中的：风险、资产、威胁、弱点、攻击、影响

  |            | 风险       | 资产  | 威胁     | 弱点         | 攻击 | 影响   |
  | ---------- | ---------- | ----- | -------- | ------------ | ---- | ------ |
  | 第一次失窃 | 钱被偷走走 | 100元 | 小偷     | 人会困       | 偷窃 | 没饭吃 |
  | 第二次失窃 | 钱被抢走   | 200元 | 持刀强盗 | 人会遭受威胁 | 抢劫 | 没饭吃 |

- 试用P2DR模型分析以上案例中的“现⾦被抢”事件中的安全策略、安全防护、安全检测和安全响应

4. 试分析“CAPTCHA图片验证码技术可以阻⽌恶意批量注册⾏为”这句话中的安全策略、安全机制和安全假设分别是什么？CAPTCHA图片举例

- 安全策略：访问控制策略。
- 安全机制：设置具有一定难度验证码，只有验证码正确才能被授权进行注册。
- 安全假设：因为验证码具有一定难度，只有人才能对验证码进行高正确率的识别；计算机识别通过率低，从而达到防止批量注册的目的。
- 5. 某⼤型软件开发公司的总裁担⼼公司的专利软件设计⽅法被内部员⼯泄露给其他公司，他打算防⽌泄密事件的发⽣。于是他设计了这样⼀个安全机制：所有员⼯必须每天向他汇报自⼰和其他竞争对⼿公司员⼯的所有联系(包括IM、电⼦邮件、电话等等)。你认为该安全机制能达到总裁的预期安全效果吗？为什么？

- 不能达到

参考自：

[https://github.com/CUCCS/2021-ns-public-MingL0016/blob/chap0x01/chap0x01/README.md]()

https://github.com/CUCCS/2021-ns-public-luminous-123/blob/chap0x01/chap0x01/Chap0x01%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A.md